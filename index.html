
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>包省錢購物網</title>
    <style>
        body { font-family: sans-serif; margin: 0; background: #f4f4f4; }
        header { background: #cde7d8; padding: 1rem; text-align: center; font-size: 1.5rem; font-weight: bold; }
        .container { padding: 1rem; display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center; }
        .product { background: white; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); width: 220px; padding: 1rem; text-align: center; }
        .product img { width: 100%; height: auto; border-radius: 4px; }
        .product h3 { margin: 0.5rem 0 0.3rem; }
        .product p { font-size: 0.9rem; color: #555; }
        .product button { margin-top: 0.5rem; padding: 0.5rem 1rem; background: #48a868; color: white; border: none; border-radius: 4px; cursor: pointer; }
        #cart { position: fixed; bottom: 20px; right: 20px; background: #48a868; color: white; border: none; border-radius: 50%; width: 60px; height: 60px; font-size: 1.2rem; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
    </style>
</head>
<body>
    <header>包省錢購物網</header>
    <div class="container" id="product-list"></div>
    <button id="cart" onclick="goToLine()">LINE</button>
    <script>
        async function loadProducts() {
            const res = await fetch('https://jacky20070509.github.io/baosheng-shop/products.json');
            const products = await res.json();
            const list = document.getElementById('product-list');
            products.forEach(p => {
                const item = document.createElement('div');
                item.className = 'product';
                item.innerHTML = `
                    <img src="${p.image}" alt="${p.name}">
                    <h3>${p.name}</h3>
                    <p>${p.description}</p>
                    <strong>NT$${p.price}</strong><br>
                    <button onclick="addToCart('${p.name}', ${p.price})">加入購物車</button>
                `;
                list.appendChild(item);
            });
        }

        const cart = [];

        function addToCart(name, price) {
            cart.push({ name, price });
            alert(`${name} 已加入購物車`);
        }

        function goToLine() {
            if (cart.length === 0) {
                alert("購物車是空的喔！");
                return;
            }
            let msg = "您好，我想購買以下商品：%0A";
            cart.forEach(item => {
                msg += `- ${item.name} NT$${item.price}%0A`;
            });
            window.location.href = `https://line.me/R/oaMessage/@szgrgte/?${encodeURIComponent(msg)}`;
        }

        loadProducts();
    </script>
</body>
</html>
